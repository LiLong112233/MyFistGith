<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
//     //实例化 XHR
//     let xhr =new XMLHttpRequest()
//     //监听 状态
//     xhr.onreadystatechange=function () {
//         if (xhr.readyState==4 && xhr.status==200){
//             console.log(xhr.responseText) //返回字符串
// //接收服务器响应的数据
//             let json_str =xhr.responseText
// //     将返回的json字符串转为js 对象
//             let obj = JSON.parse(json_str)
//             console.log(obj)
//             console.log(obj.name)
//             console.log(obj.age)
//         }
//     }
//     //    打开链接
//     xhr.open("get"/*选择发送请求方式*/,"http://127.0.0.1/4.7/hello.php" /*链接的地址*/  )
//     // 发送请求
//     xhr.send()




    function agax(obj) {
        //实例化 XHR
        let xhr =new XMLHttpRequest()
        //监听 状态
        var obj
        xhr.onreadystatechange=function () {
            if (xhr.readyState==4 && xhr.status==200){
                // console.log(xhr.responseText) //返回字符串
//接收服务器响应的数据
                let json_str =xhr.responseText
//     将返回的json字符串转为js 对象
                obj = JSON.parse(json_str)
                console.log(obj)
                return obj
            }
        }

        //    打开链接
        xhr.open( way/*选择发送请求方式*/,url /*链接的地址*/  )
        // 发送请求
        xhr.send()

    }
    let obj ={
        url:"",    //请求地址
        method:"",  // 提交方式 get  or  post
        data:{},   //发送的数据
        dateType:"", //json
        success:function () {}, //请求成功 回调函数
        error:function () { }  //失败处理函数
    }



         let  aa=agax( 'obj')
           console.log(aa)



















</script>






</html>